[
    {
        "id": "0c42acb8-deac-4d5b-811d-2c0254e13935",
        "resolve": "86591560-fe59-48ff-9821-e6994de36759",
        "reject": "2b35f987-80ab-4ada-a8ad-227e6759af1c",
        "flow": "29e4c218-cdf1-47b5-9fa0-6e6af5342d34",
        "user_created": "2803d7ac-a679-4e26-896b-c4d6f5b9a312",
        "date_created": "2023-08-08T21:46:50.276Z",
        "type": "item-update",
        "key": "item_update_g3bt9",
        "name": "Update Data",
        "options": {
            "collection": "{{ $trigger.collection }}",
            "payload": {
                "slug": "{{ $trigger.slug }}"
            },
            "key": [
                "{{ $trigger.keys }}"
            ]
        },
        "position_y": 1,
        "position_x": 19
    },
    {
        "id": "1d167b20-13af-4f0b-afe1-a4c4d8971654",
        "resolve": "60dfe97d-f81d-4a27-b223-c373fe896f1c",
        "reject": null,
        "flow": "b94189fe-0d20-4611-88a1-dd7b5d419b35",
        "user_created": "2803d7ac-a679-4e26-896b-c4d6f5b9a312",
        "date_created": "2023-08-02T07:34:23.221Z",
        "type": "exec",
        "key": "slug_me",
        "name": "Slug Me",
        "options": {
            "code": "module.exports = async function (data) {\n\t// Index data to get the string you want to slugify\n\t// Assign it to the \"text\" var below.\n\tconst text = data.$trigger.payload.title;\n    const slug = text\n\t\t.toLowerCase()\n\t\t.trim()\n    \t.replace(/[ä-]/g, 'a')\n\t\t.replace(/[^\\w\\s-]/g, '')\n\t\t.replace(/[\\s_-]+/g, '-')\n\t\t.replace(/^-+|-+$/g, '');\n\n    console.log(data);\n\treturn slug;\n};\n"
        },
        "position_y": 1,
        "position_x": 19
    },
    {
        "id": "236f9035-68be-40c8-984b-eb2a19a82fe6",
        "resolve": null,
        "reject": null,
        "flow": "f2d0d474-0b7c-49ed-97d3-7f5304bafa25",
        "user_created": "2803d7ac-a679-4e26-896b-c4d6f5b9a312",
        "date_created": "2023-08-15T10:28:19.625Z",
        "type": "log",
        "key": "log_x5z6m",
        "name": "Log to Console",
        "options": {
            "message": "Slug updated successfully!"
        },
        "position_y": 1,
        "position_x": 37
    },
    {
        "id": "2b35f987-80ab-4ada-a8ad-227e6759af1c",
        "resolve": null,
        "reject": null,
        "flow": "29e4c218-cdf1-47b5-9fa0-6e6af5342d34",
        "user_created": "2803d7ac-a679-4e26-896b-c4d6f5b9a312",
        "date_created": "2023-08-08T21:50:21.425Z",
        "type": "log",
        "key": "log_e10fq",
        "name": "Log to Console",
        "options": {
            "message": "FAILED: slug update fail."
        },
        "position_y": 17,
        "position_x": 37
    },
    {
        "id": "391b980c-a792-4343-8da6-33f9774d7d39",
        "resolve": null,
        "reject": null,
        "flow": "0f8ea882-219d-4823-bb80-bc725d280c3a",
        "user_created": "2803d7ac-a679-4e26-896b-c4d6f5b9a312",
        "date_created": "2023-08-18T08:01:43.075Z",
        "type": "log",
        "key": "deploy_fail",
        "name": "Deploy fail",
        "options": {
            "message": "FAIL. Site deployment failed, check logs."
        },
        "position_y": 16,
        "position_x": 73
    },
    {
        "id": "40fd454c-a438-47bb-9bc5-399d1fffd562",
        "resolve": "a207e95a-65b9-488e-ac1f-3fbabb01446c",
        "reject": "70242292-da15-47fc-8ec8-edc40d192410",
        "flow": "0f8ea882-219d-4823-bb80-bc725d280c3a",
        "user_created": "2803d7ac-a679-4e26-896b-c4d6f5b9a312",
        "date_created": "2023-08-02T07:34:23.246Z",
        "type": "exec",
        "key": "check_build_hook",
        "name": "Check Build Hook",
        "options": {
            "code": "module.exports = async function(data) {\n\tconst build_hook_url = data.read_globals[0].build_hook_url\n    if (!build_hook_url) throw new Error('Missing build hook url')\n    return build_hook_url\n}"
        },
        "position_y": 1,
        "position_x": 37
    },
    {
        "id": "5575a3f6-761b-4ee1-8dd5-a147c417b036",
        "resolve": "40fd454c-a438-47bb-9bc5-399d1fffd562",
        "reject": null,
        "flow": "0f8ea882-219d-4823-bb80-bc725d280c3a",
        "user_created": "2803d7ac-a679-4e26-896b-c4d6f5b9a312",
        "date_created": "2023-08-02T07:34:23.262Z",
        "type": "item-read",
        "key": "read_globals",
        "name": "Read Globals",
        "options": {
            "collection": "globals"
        },
        "position_y": 1,
        "position_x": 19
    },
    {
        "id": "60dfe97d-f81d-4a27-b223-c373fe896f1c",
        "resolve": null,
        "reject": null,
        "flow": "b94189fe-0d20-4611-88a1-dd7b5d419b35",
        "user_created": "2803d7ac-a679-4e26-896b-c4d6f5b9a312",
        "date_created": "2023-08-08T21:45:20.874Z",
        "type": "trigger",
        "key": "activate_update",
        "name": "Activate update",
        "options": {
            "flow": "29e4c218-cdf1-47b5-9fa0-6e6af5342d34",
            "payload": {
                "collection": "{{ $trigger.collection }}",
                "slug": "{{ slug_me }}",
                "payload": "{{ $trigger.payload }}",
                "keys": "{{ $trigger.keys }}"
            }
        },
        "position_y": 1,
        "position_x": 37
    },
    {
        "id": "6dbaa7ac-579e-4751-8cb9-1f31ef7919ee",
        "resolve": null,
        "reject": null,
        "flow": "b6bac21a-6536-446f-8963-73ac9348a2bd",
        "user_created": "2803d7ac-a679-4e26-896b-c4d6f5b9a312",
        "date_created": "2023-08-17T12:02:13.401Z",
        "type": "request",
        "key": "request_2wn9p",
        "name": "Webhook / Request URL",
        "options": {
            "url": "http://www.ylivuoto.net"
        },
        "position_y": 1,
        "position_x": 37
    },
    {
        "id": "70242292-da15-47fc-8ec8-edc40d192410",
        "resolve": null,
        "reject": null,
        "flow": "0f8ea882-219d-4823-bb80-bc725d280c3a",
        "user_created": "2803d7ac-a679-4e26-896b-c4d6f5b9a312",
        "date_created": "2023-08-02T07:34:23.272Z",
        "type": "log",
        "key": "log_error",
        "name": "Log Error",
        "options": {
            "message": "Missing build hook URL"
        },
        "position_y": 17,
        "position_x": 55
    },
    {
        "id": "841c6842-97c9-475f-aa38-f7b4f6ab71dc",
        "resolve": "bd1bc17d-729b-4849-8c51-f677aaaeaf93",
        "reject": null,
        "flow": "9347fb19-b41f-4cf7-9da2-0b95d556df79",
        "user_created": "2803d7ac-a679-4e26-896b-c4d6f5b9a312",
        "date_created": "2023-08-02T07:34:23.280Z",
        "type": "item-read",
        "key": "get_post",
        "name": "Get Post",
        "options": {
            "collection": "posts",
            "key": "{{$trigger.body.keys}}",
            "permissions": "$full"
        },
        "position_y": 1,
        "position_x": 19
    },
    {
        "id": "84b09587-ccc6-4a80-afb6-b9338705ad9f",
        "resolve": "236f9035-68be-40c8-984b-eb2a19a82fe6",
        "reject": "bcb5c11b-67cf-4d1b-a541-9fd5b1faae71",
        "flow": "f2d0d474-0b7c-49ed-97d3-7f5304bafa25",
        "user_created": "2803d7ac-a679-4e26-896b-c4d6f5b9a312",
        "date_created": "2023-08-15T10:27:05.370Z",
        "type": "exec",
        "key": "slug_me",
        "name": "Slug Me",
        "options": {
            "code": "module.exports = async function (data) {\n\t// Index data to get the string you want to slugify\n\t// Assign it to the \"text\" var below.\n\tconst text = data.$trigger.payload.title;\n    const slug = text\n\t\t.toLowerCase()\n\t\t.trim()\n    \t.replace(/[ä-]/g, 'a')\n\t\t.replace(/[^\\w\\s-]/g, '')\n\t\t.replace(/[\\s_-]+/g, '-')\n\t\t.replace(/^-+|-+$/g, '');\n\n    data.$trigger.payload.slug = slug;\n    console.log(data);\n\treturn slug;\n};\n"
        },
        "position_y": 1,
        "position_x": 19
    },
    {
        "id": "86591560-fe59-48ff-9821-e6994de36759",
        "resolve": null,
        "reject": null,
        "flow": "29e4c218-cdf1-47b5-9fa0-6e6af5342d34",
        "user_created": "2803d7ac-a679-4e26-896b-c4d6f5b9a312",
        "date_created": "2023-08-08T21:50:21.433Z",
        "type": "log",
        "key": "log_x5z6m",
        "name": "Log to Console",
        "options": {
            "message": "Slug updated successfully!"
        },
        "position_y": 1,
        "position_x": 37
    },
    {
        "id": "9ae6d868-d5ef-44f5-8aa5-cd01cd726902",
        "resolve": null,
        "reject": null,
        "flow": "0f8ea882-219d-4823-bb80-bc725d280c3a",
        "user_created": "2803d7ac-a679-4e26-896b-c4d6f5b9a312",
        "date_created": "2023-08-18T08:01:43.094Z",
        "type": "log",
        "key": "site_deployed",
        "name": "Site deployed",
        "options": {
            "message": "OK: Site updated!"
        },
        "position_y": 1,
        "position_x": 73
    },
    {
        "id": "a207e95a-65b9-488e-ac1f-3fbabb01446c",
        "resolve": "9ae6d868-d5ef-44f5-8aa5-cd01cd726902",
        "reject": "391b980c-a792-4343-8da6-33f9774d7d39",
        "flow": "0f8ea882-219d-4823-bb80-bc725d280c3a",
        "user_created": "2803d7ac-a679-4e26-896b-c4d6f5b9a312",
        "date_created": "2023-08-02T07:34:23.288Z",
        "type": "request",
        "key": "call_build_hook",
        "name": "Call Build Hook",
        "options": {
            "method": "POST",
            "url": "{{check_build_hook}}",
            "headers": [
                {
                    "header": "user",
                    "value": "auto@example.com"
                },
                {
                    "header": "password",
                    "value": "autoapi22"
                },
                {
                    "header": "Authorization",
                    "value": "{{ $trigger.headers.authorization }}"
                },
                {
                    "header": "Cookie",
                    "value": "{{ $trigger.headers.cookie }}"
                }
            ]
        },
        "position_y": 1,
        "position_x": 55
    },
    {
        "id": "a7a66ae8-47ad-4d7a-97d3-e27f8c52241b",
        "resolve": null,
        "reject": null,
        "flow": "ac372072-30ff-4806-91cc-a6ade72e6636",
        "user_created": "2803d7ac-a679-4e26-896b-c4d6f5b9a312",
        "date_created": "2023-08-02T07:34:23.296Z",
        "type": "item-update",
        "key": "update_trigger_item",
        "name": "Update Trigger Item",
        "options": {
            "collection": "{{$trigger.collection}}",
            "key": [
                "{{$trigger.key}}"
            ],
            "payload": {
                "seo": {
                    "title": "{{$trigger.payload.title}}",
                    "meta_description": "{{$trigger.payload.summary}}"
                }
            }
        },
        "position_y": 1,
        "position_x": 20
    },
    {
        "id": "aa70c7bb-cb61-417f-9110-468d79b4849b",
        "resolve": "d1bfebad-1335-4a63-b9cb-f2e705244738",
        "reject": null,
        "flow": "c29208b0-4187-4af0-83a3-1bea7e30e12c",
        "user_created": "2803d7ac-a679-4e26-896b-c4d6f5b9a312",
        "date_created": "2023-08-02T07:34:23.304Z",
        "type": "condition",
        "key": "check_status",
        "name": "Check Status",
        "options": {
            "filter": {
                "$trigger": {
                    "payload": {
                        "status": {
                            "_eq": "in_review"
                        }
                    }
                }
            }
        },
        "position_y": 1,
        "position_x": 19
    },
    {
        "id": "bcb5c11b-67cf-4d1b-a541-9fd5b1faae71",
        "resolve": null,
        "reject": null,
        "flow": "f2d0d474-0b7c-49ed-97d3-7f5304bafa25",
        "user_created": "2803d7ac-a679-4e26-896b-c4d6f5b9a312",
        "date_created": "2023-08-15T10:28:25.157Z",
        "type": "log",
        "key": "log_e10fq",
        "name": "Log to Console",
        "options": {
            "message": "FAILED: slug update fail."
        },
        "position_y": 17,
        "position_x": 37
    },
    {
        "id": "bd1bc17d-729b-4849-8c51-f677aaaeaf93",
        "resolve": null,
        "reject": null,
        "flow": "9347fb19-b41f-4cf7-9da2-0b95d556df79",
        "user_created": "2803d7ac-a679-4e26-896b-c4d6f5b9a312",
        "date_created": "2023-08-02T07:34:23.320Z",
        "type": "request",
        "key": "generate_image",
        "name": "Generate Image",
        "options": {
            "url": "https://agency-os.vercel.app/api/image",
            "headers": [
                {
                    "header": "Accept",
                    "value": "application/json"
                }
            ],
            "method": "POST",
            "body": "{\n\"id\": \"{{get_post.id}}\",\n\"slug\": \"{{get_post.slug}}\",\n\"seo\": \"{{get_post.seo}}\",\n\"url\": \"https://agency-os.vercel.app/_media/posts/{{get_post.slug}}\"\n}"
        },
        "position_y": 1,
        "position_x": 37
    },
    {
        "id": "c97cba37-fc17-4d40-b717-61405b6fc4cd",
        "resolve": "6dbaa7ac-579e-4751-8cb9-1f31ef7919ee",
        "reject": null,
        "flow": "b6bac21a-6536-446f-8963-73ac9348a2bd",
        "user_created": "2803d7ac-a679-4e26-896b-c4d6f5b9a312",
        "date_created": "2023-08-17T09:02:00.616Z",
        "type": "request",
        "key": "build_api",
        "name": "Build api",
        "options": {
            "headers": [
                {
                    "header": "user",
                    "value": "auto@example.com"
                },
                {
                    "header": "password",
                    "value": "autoapi22"
                }
            ],
            "url": "http://192.168.1.81:8000/build"
        },
        "position_y": 1,
        "position_x": 19
    },
    {
        "id": "d1bfebad-1335-4a63-b9cb-f2e705244738",
        "resolve": null,
        "reject": null,
        "flow": "c29208b0-4187-4af0-83a3-1bea7e30e12c",
        "user_created": "2803d7ac-a679-4e26-896b-c4d6f5b9a312",
        "date_created": "2023-08-02T07:34:23.328Z",
        "type": "mail",
        "key": "send_email",
        "name": "Send Email",
        "options": {
            "to": [
                "bryant@directus.io"
            ],
            "subject": "New post is ready to review",
            "body": "Hello Team,\n\nThe following article has been submitted for your review. Please log in, and either approve this content or provide feedback for necessary improvements.\n\nhttps://nuxt-starter.directus.app/admin/posts/{{$trigger.keys[0]}}\n\nBest,\n\n//"
        },
        "position_y": 1,
        "position_x": 37
    },
    {
        "id": "da0bd4ed-f886-4bcb-9a61-f0cb3f7952bd",
        "resolve": null,
        "reject": null,
        "flow": "0f8ea882-219d-4823-bb80-bc725d280c3a",
        "user_created": "2803d7ac-a679-4e26-896b-c4d6f5b9a312",
        "date_created": "2023-08-18T08:09:59.192Z",
        "type": "exec",
        "key": "exec_cechk",
        "name": "Run Script",
        "options": {
            "code": "module.exports = async function(data) {\n\tconsole.log(data)\n\treturn {};\n}"
        },
        "position_y": 16,
        "position_x": 98
    }
]